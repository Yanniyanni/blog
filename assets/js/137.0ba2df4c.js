(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{541:function(t,s,n){"use strict";n.r(s);var a=n(48),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("a",{attrs:{"data-fancybox":"",href:t.$withBase("/css-animation.png")}},[n("img",{attrs:{src:t.$withBase("/css-animation.png")}})]),t._v(" "),n("p",[t._v("点击图片查看大图")]),t._v(" "),n("p",[t._v("css属性很多，有几个属性经常会被混淆。")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("属性")]),t._v(" "),n("th",[t._v("含义")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("animation（动画）")]),t._v(" "),n("td",[t._v("用于设置动画属性，它是一个简写的属性，包含6个属性")])]),t._v(" "),n("tr",[n("td",[t._v("transition（过渡）")]),t._v(" "),n("td",[t._v("用于设置元素的样式过渡，和animation有着类似的效果，但细节上有很大的不同")])]),t._v(" "),n("tr",[n("td",[t._v("transform（变形）")]),t._v(" "),n("td",[t._v("用于元素进行旋转、缩放、移动或倾斜，和设置样式的动画并没有什么关系，就相当于color一样用来设置元素的“外表”")])]),t._v(" "),n("tr",[n("td",[t._v("translate（移动）")]),t._v(" "),n("td",[t._v("translate只是transform的一个属性值，即移动。")])])])]),t._v(" "),n("h2",{attrs:{id:"transition"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#transition"}},[t._v("#")]),t._v(" transition")]),t._v(" "),n("p",[t._v("CSS transitions 提供了一种"),n("strong",[t._v("在更改CSS属性时控制动画速度的方法")]),t._v("。 其可以让属性变化成为一个持续一段时间的过程，而不是立即生效的。比如，将一个元素的颜色从白色改为黑色，通常这个改变是立即生效的，使用 CSS transitions 后该元素的颜色将逐渐从白色变为黑色，按照一定的曲线速率变化。这个过程可以自定义。")]),t._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n* transition: property duration timing-function delay;\n*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" width 1s ease 100ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" transform 1s ease-in 500ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*多个属性可以用逗号隔开*/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 上面transition属性可拆分为 */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" width"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" transform"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-duration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 3s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-delay")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 500ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-timing-function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ease"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ease-in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box:hover")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("translate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 200px"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("p",[n("strong",[t._v("transition使用注意：")])]),t._v(" "),n("ul",[n("li",[t._v("不是所有的css属性都支持transition，完整度的列表可查看"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_animated_properties",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS_animated_properties"),n("OutboundLink")],1)]),t._v(" "),n("li",[t._v("transition"),n("strong",[t._v("需要明确知道开始状态和结束状态的具体数值")]),t._v("，才能计算出中间状态。比如，height从0px变化到100px，transition可以算出中间状态。但是，transition没法算出0px到auto的中间状态，也就是说，如果开始或结束的设置是height: auto，那么就不会产生动画效果。类似的情况还有，display: none到block，background: url(foo.jpg)到url(bar.jpg)等等。")])]),t._v(" "),n("p",[n("strong",[t._v("transition的局限：")])]),t._v(" "),n("ul",[n("li",[t._v("transition需要事件触发，所以没法在网页加载时自动发生。")]),t._v(" "),n("li",[t._v("transition是一次性的，不能重复发生，除非一再触发。")]),t._v(" "),n("li",[t._v("transition只能定义开始状态和结束状态，不能定义中间状态，也就是说只有两个状态。")]),t._v(" "),n("li",[t._v("一条transition规则，只能定义一个属性的变化，不能涉及多个属性")])]),t._v(" "),n("p",[t._v("CSS Animation就是为了解决这些问题而提出的。")]),t._v(" "),n("p",[n("strong",[t._v("有关文档")])]),t._v(" "),n("p",[t._v("MDN - "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions",target:"_blank",rel:"noopener noreferrer"}},[t._v("transitions"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("MDN - "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Using_CSS_transitions"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"animation"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#animation"}},[t._v("#")]),t._v(" animation")]),t._v(" "),n("p",[t._v("CSS animations 使得可以将从一个CSS样式配置转换到另一个CSS样式配置。动画包括两个部分:"),n("strong",[t._v("描述动画的样式规则和用于指定动画开始、结束以及中间点样式的关键帧")]),t._v("。")]),t._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n* animation: duration | timing-function | delay | iteration-count | direction | fill-mode | play-state | name\n*/")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3s ease-in 1s 2 reverse both paused slidein"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 上面animation属性可拆分为 */")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-duration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 3s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timing-function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ease-in"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-delay")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-iteration-count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-direction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" reverse"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-fill-mode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" both"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-play-state")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" paused"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" slidein"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br")])]),n("p",[t._v("animation是css3 新增的属性，有浏览器兼容性问题，可以通过"),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Detecting_CSS_animation_support",target:"_blank",rel:"noopener noreferrer"}},[t._v("Detecting_CSS_animation_support"),n("OutboundLink")],1),t._v("检查浏览器是否支持animation。")]),t._v(" "),n("p",[t._v("不是所有的css属性都支持animation，完整度的列表可查看"),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_animated_properties",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS_animated_properties"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("animation优点")])]),t._v(" "),n("ul",[n("li",[t._v("能够非常容易地创建简单动画，你甚至不需要了解JavaScript就能创建动画。")]),t._v(" "),n("li",[t._v("动画运行效果良好，甚至在低性能的系统上。渲染引擎会使用跳帧或者其他技术以保证动画表现尽可能的流畅。而使用JavaScript实现的动画通常表现不佳（除非经过很好的设计）。")]),t._v(" "),n("li",[t._v("让浏览器控制动画序列，允许浏览器优化性能和效果，如降低位于隐藏选项卡中的动画更新频率")])]),t._v(" "),n("p",[n("strong",[t._v("有关文档")])]),t._v(" "),n("p",[t._v("MDN - "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation",target:"_blank",rel:"noopener noreferrer"}},[t._v("animation"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"贝塞尔曲线-贝兹曲线"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#贝塞尔曲线-贝兹曲线"}},[t._v("#")]),t._v(" 贝塞尔曲线/贝兹曲线")]),t._v(" "),n("p",[t._v("贝塞尔曲线是计算机图形学中重要的参数曲线，它通过控制曲线上的四个点（起始点、终止点以及两个相互分离的中间点）来创造、编辑图形，绘制出一条光滑曲线并以曲线的状态来反映动画过程中速度的变化。具体介绍看"),n("a",{attrs:{href:"https://baike.baidu.com/item/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF/1091769?fr=aladdin",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("几个名词之间的区别：")]),t._v(" "),n("ul",[n("li",[n("p",[n("strong",[t._v("贝塞尔曲线：")]),t._v(" 两个定点，P0、P1，贝塞尔曲线只是一条两点之间的直线。")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("二次贝塞尔曲线：")]),t._v(" 三个定点，P0、P1、P2三个点定义了从起点到终点的曲线。")])]),t._v(" "),n("li",[n("p",[n("strong",[t._v("三次贝塞尔曲线：")]),t._v(" 四个定点，P0、P1、P2、P3四个点在平面或在三维空间中定义了三次方贝兹曲线。")])])]),t._v(" "),n("p",[t._v("虽然名字有些陌生，但其实我们在日常中经常用到，例如 PS 中的 钢笔工具， Fireworks中的 画笔等。")]),t._v(" "),n("h3",{attrs:{id:"cubic-bezier"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cubic-bezier"}},[t._v("#")]),t._v(" cubic-bezier()")]),t._v(" "),n("p",[t._v("贝塞尔曲线是css3动画的重要基石。css3中使用 "),n("strong",[t._v("cubic-bezier()")]),t._v(" 函数来控制变化的速度曲线。如果不清楚如何设置值，可以通过工具来帮忙。"),n("a",{attrs:{href:"https://cubic-bezier.com/#.17,.67,.83,.67",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔曲线工具"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("css3 中已经有设置了默认的一些贝塞尔曲线。如"),n("code",[t._v("animation-timing-function")]),t._v("的值中，"),n("code",[t._v("ease")]),t._v(" 就相当于 "),n("code",[t._v("cubic-bezier(0.25, 0.1, 0.25, 1.0)")]),t._v("，"),n("code",[t._v("linear")]),t._v(" 就相当于 "),n("code",[t._v("cubic-bezier(0.0, 0.0, 1.0, 1.0)")]),t._v(" 等。")]),t._v(" "),n("p",[n("strong",[t._v("cubic-bezier 取值范围")])]),t._v(" "),n("a",{attrs:{"data-fancybox":"",href:t.$withBase("/css-cubic-bezier.jpg")}},[n("img",{attrs:{src:t.$withBase("/css-cubic-bezier.jpg")}})]),t._v(" "),n("p",[t._v("从上图可以知道cubic-bezier 的取值范围:")]),t._v(" "),n("ul",[n("li",[t._v("P0：默认值 (0, 0)。曲线的起点")]),t._v(" "),n("li",[t._v("P1：动态取值 (x1, y1)。")]),t._v(" "),n("li",[t._v("P2：动态取值 (x2, y2)。")]),t._v(" "),n("li",[t._v("P3：默认值 (1, 1)。曲线的终点")])]),t._v(" "),n("p",[t._v("注：X轴的范围是0~1，超出cubic-bezier将失效，Y轴的取值没有规定，但是也不宜过大。\n我们只要调整两个控制点P1和P2的坐标，最后形成的曲线就是动画曲线。")]),t._v(" "),n("p",[n("strong",[t._v("用法")])]),t._v(" "),n("p",[n("code",[t._v("cubic-bezier(<x1>,<y1>,<x2>,<y2>)")])]),t._v(" "),n("p",[t._v("cubic-bezier() 可用于 "),n("code",[t._v("animation-timing-function")]),t._v(" 和 "),n("code",[t._v("transition-timing-function")]),t._v(" 属性。")]),t._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timing-function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cubic-bezier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 1.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-timing-function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cubic-bezier")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.25"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 1.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("h2",{attrs:{id:"动画性能分析和浏览器gpu加速"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#动画性能分析和浏览器gpu加速"}},[t._v("#")]),t._v(" 动画性能分析和浏览器GPU加速")]),t._v(" "),n("h4",{attrs:{id:"使用-gpu-渲染元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-gpu-渲染元素"}},[t._v("#")]),t._v(" 使用 GPU 渲染元素")]),t._v(" "),n("p",[t._v("只有少数属性可以触发 GPU 硬件加速，如：")]),t._v(" "),n("ul",[n("li",[t._v("transform")]),t._v(" "),n("li",[t._v("opacity")]),t._v(" "),n("li",[t._v("filter")])]),t._v(" "),n("h4",{attrs:{id:"_2d-transform-和-3d-transform"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2d-transform-和-3d-transform"}},[t._v("#")]),t._v(" 2D transform 和 3D transform")]),t._v(" "),n("p",[t._v("transform 的属性有分2D和 3D 属性。如：")]),t._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".demo1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 2D的旋转 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rotate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("45deg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".demo2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 3D旋转 */")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rotate3d")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 0.5"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 3.142rad"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("p",[t._v("更多属性介绍请看: "),n("a",{attrs:{href:"https://www.runoob.com/cssref/css3-pr-transform.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("transform"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("3D 和 2D transform 的区别就在于，浏览器在页面渲染前为3D动画创建独立的复合图层，而在运行期间为2D动画创建。动画开始时，生成新的复合图层并加载为GPU的纹理用于初始化 repaint。然后由GPU的复合器操纵整个动画的执行。最后当动画结束时，再次执行 repaint 操作删除复合图层。")]),t._v(" "),n("h4",{attrs:{id:"强制使用gpu渲染"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#强制使用gpu渲染"}},[t._v("#")]),t._v(" 强制使用GPU渲染")]),t._v(" "),n("p",[t._v("为了避免 2D transform 动画在开始和结束时发生的 repaint 操作，我们可以硬编码一些样式来解决这个问题：")]),t._v(" "),n("div",{staticClass:"language-css line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".example1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".example2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rotateZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("360deg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("h4",{attrs:{id:"开启gpu硬件加速可能触发的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开启gpu硬件加速可能触发的问题"}},[t._v("#")]),t._v(" 开启GPU硬件加速可能触发的问题")]),t._v(" "),n("p",[t._v("通过-webkit-transform:transition3d/translateZ开启GPU硬件加速之后，有些时候可能会导致浏览器频繁闪烁或抖动，可以尝试以下办法解决之：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("-webkit-backface-visibility:hidden;\n-webkit-perspective:1000;\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("p",[t._v("具体查看文章"),n("a",{attrs:{href:"https://juejin.im/post/5bd947326fb9a0226924ad77#heading-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS动画的性能分析和浏览器GPU加速"),n("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);