(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{518:function(s,a,t){"use strict";t.r(a);var n=t(48),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_0-安装依赖包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-安装依赖包"}},[s._v("#")]),s._v(" 0. 安装依赖包")]),s._v(" "),t("p",[s._v("jenkins 依赖 jdk，使用"),t("code",[s._v("java --version")]),s._v("可查看，没有则需安装")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" java-1.8.0-openjdk-devel.x86_64\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_1-下载并安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载并安装"}},[s._v("#")]),s._v(" 1. 下载并安装")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.repo\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" --import https://pkg.jenkins.io/redhat/jenkins.io.key\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("默认安装目录 : /var/lib/jenkins")]),s._v(" "),t("li",[s._v("默认日志目录 ：/var/log/jenkins")]),s._v(" "),t("li",[s._v("默认缓存目录 : /var/cache/jenkins")]),s._v(" "),t("li",[s._v("默认admin密码文件 : /var/lib/jenkins/secrets/initialAdminPassword")]),s._v(" "),t("li",[s._v("配置文件 : /etc/sysconfig/jenkins")])]),s._v(" "),t("h2",{attrs:{id:"_2-运行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行"}},[s._v("#")]),s._v(" 2. 运行")]),s._v(" "),t("p",[s._v("jenkins安装后默认添加到service，可通过service命令运行")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 Jenkins")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins start\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 Jenkins")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins restart\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止 Jenkins")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins stop\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"_3-访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-访问"}},[s._v("#")]),s._v(" 3. 访问")]),s._v(" "),t("p",[s._v("jenkins默认8080端口，启动成功后直接访问http://ip地址:8080即可。")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-01.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-01.png")}})]),s._v(" "),t("h2",{attrs:{id:"_4-修改配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改配置"}},[s._v("#")]),s._v(" 4. 修改配置")]),s._v(" "),t("h3",{attrs:{id:"_4-1-修改端口号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-修改端口号"}},[s._v("#")]),s._v(" 4.1 修改端口号")]),s._v(" "),t("ol",[t("li",[s._v("打开Jenkins 配置文件")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("修改 JENKINS_PORT")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_PORT")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9000"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-2-获取root权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-获取root权限"}},[s._v("#")]),s._v(" 4.2 获取root权限")]),s._v(" "),t("ol",[t("li",[s._v("打开Jenkins 配置文件")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("修改 JENKINS_USER")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_USER")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[s._v("修改Jenkins 相关目录权限")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root:root /var/lib/jenkins\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root:root /var/log/jenkins\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R root:root /var/cache/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[s._v("重启Jenkins并验证")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" jenkins restart\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("修改前为"),t("code",[s._v("jenkins")])]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-02.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-02.png")}})]),s._v(" "),t("p",[s._v("修改后为"),t("code",[s._v("root")])]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-03.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-03.png")}})]),s._v(" "),t("h3",{attrs:{id:"_4-3-查看"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-查看"}},[s._v("#")]),s._v(" 4.3 查看")]),s._v(" "),t("p",[s._v("浏览器访问 http://ip:9000。然后按照指示输入密码，等待安装插件后，就能进入jenkins界面了。")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-04.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-04.png")}})]),s._v(" "),t("h3",{attrs:{id:"_4-4-初始密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-初始密码"}},[s._v("#")]),s._v(" 4.4 初始密码")]),s._v(" "),t("p",[s._v("初始密码文件地址："),t("code",[s._v("/var/lib/jenkins/secrets/initialAdminPassword")])]),s._v(" "),t("h2",{attrs:{id:"_5-部署前端项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-部署前端项目"}},[s._v("#")]),s._v(" 5. 部署前端项目")]),s._v(" "),t("h3",{attrs:{id:"_5-1-安装插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-安装插件"}},[s._v("#")]),s._v(" 5.1. 安装插件")]),s._v(" "),t("p",[s._v("进入jenkins页面 > Manage Jenkins > Manage Jenkins> 可选插件> 搜索【NodeJS】 和 【Gitee】安装即可")]),s._v(" "),t("h3",{attrs:{id:"_5-2-安装环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-安装环境"}},[s._v("#")]),s._v(" 5.2. 安装环境")]),s._v(" "),t("p",[s._v("进入安装 jenkins 的机器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装git")]),s._v("\nyum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装node，这样安装是默认的6.0版本，可安装指定版本或升级 ")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y nodejs\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装vuepress")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g vuepress\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("RouterLink",{attrs:{to:"/articles/server/2020-04-25-intro-jenkins-install.html#node-版本升级"}},[s._v("node 版本升级")])],1),s._v(" "),t("h3",{attrs:{id:"_5-3-新建项目"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-新建项目"}},[s._v("#")]),s._v(" 5.3 新建项目")]),s._v(" "),t("ol",[t("li",[s._v("进入 jenkins 主页 > new item > freestyle project > 确定")])]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-05.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-05.png")}})]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("源码管理 > Git")])]),s._v(" "),t("p",[s._v("可能会出现以下报错。由于使用了 ssh 方式，所以需要配置Credentials 和 ssh key 。")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/articles/server/2020-04-25-intro-jenkins-install.html#配置-credentials"}},[s._v("配置 Credentials")])],1),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/articles/server/2020-04-25-intro-jenkins-install.html#配置-ssh-key"}},[s._v("配置 ssh key")])],1),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-06.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-06.png")}})]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("构建")])]),s._v(" "),t("p",[s._v("构建 > 添加构建步骤 > 执行 shell")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${WORKSPACE}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/blog\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf dist*\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${WORKSPACE}")]),s._v("/docs/.vuepress\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r dist /home/blog\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"_5-4-发布成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-发布成功"}},[s._v("#")]),s._v(" 5.4 发布成功")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-07.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-07.png")}})]),s._v(" "),t("h2",{attrs:{id:"node-版本升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-版本升级"}},[s._v("#")]),s._v(" node 版本升级")]),s._v(" "),t("h3",{attrs:{id:"_1-安装版本管理工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装版本管理工具"}},[s._v("#")]),s._v(" 1. 安装版本管理工具")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 清理npm的cache")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" cache clean -f\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本管理工具")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级到最新版本")]),s._v("\nn latest\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 看日志可以知道安装路径在 /usr/local/n/versions/node/14.0.0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"_2-修改环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改环境变量"}},[s._v("#")]),s._v(" 2. 修改环境变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" ~/.bash_profile \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("添加配置语句")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("N_PREFIX")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/n/versions/node/14.0.0 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#node实际安装位置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$N_PREFIX")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("执行source使修改生效")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bash_profile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_3-再次升级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-再次升级"}},[s._v("#")]),s._v(" 3. 再次升级")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("n latest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("查看版本，升级成功")]),s._v(" "),t("h3",{attrs:{id:"_4-jenkins-配置-node-版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-jenkins-配置-node-版本"}},[s._v("#")]),s._v(" 4. jenkins 配置 node 版本")]),s._v(" "),t("p",[s._v("系统管理 > Global Tool Configuration > NodeJS > 安装 > 自动安装 > 选择版本 > 保存")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-08.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-08.png")}})]),s._v(" "),t("p",[s._v("构建任务 > 配置 > 构建环境 > Provide Node & npm bin/ folder to PATH > 选择Node版本 > 保存")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-09.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-09.png")}})]),s._v(" "),t("h2",{attrs:{id:"配置-credentials"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-credentials"}},[s._v("#")]),s._v(" 配置 Credentials")]),s._v(" "),t("h3",{attrs:{id:"_1-gitee-生成-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-gitee-生成-token"}},[s._v("#")]),s._v(" 1. gitee 生成 token")]),s._v(" "),t("p",[s._v("进入gitee > 设置 > 私人令牌 > 生成")]),s._v(" "),t("h3",{attrs:{id:"_2-配置插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置插件"}},[s._v("#")]),s._v(" 2. 配置插件")]),s._v(" "),t("p",[s._v("进入jenkins > Managa Jenkins > Configure System > Gitee 配置 > 添加")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-10.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-10.png")}})]),s._v(" "),t("p",[s._v("测试是否成功")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-11.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-11.png")}})]),s._v(" "),t("p",[t("span",{staticStyle:{color:"red"}},[s._v("添加后配置没有立马生效，可能还是报错，耐心点多刷新几次就好了。")])]),s._v(" "),t("h2",{attrs:{id:"配置-ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-ssh-key"}},[s._v("#")]),s._v(" 配置 ssh key")]),s._v(" "),t("h3",{attrs:{id:"_1-生成ssh-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-生成ssh-key"}},[s._v("#")]),s._v(" 1. 生成ssh key")]),s._v(" "),t("p",[s._v("进入安装 jenkins 机器")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成")]),s._v("\nssh-keygen -t rsa\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /root/.ssh/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 复制 id_rsa.pub 的公钥到gitee")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" id_rsa.pub\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_2-gitee-添加公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-gitee-添加公钥"}},[s._v("#")]),s._v(" 2. gitee 添加公钥")]),s._v(" "),t("p",[s._v("进入gitee > 个人中心 > SSH公钥 > 将第一步id_rsa.pub的内容复制上去即可")]),s._v(" "),t("a",{attrs:{"data-fancybox":"",href:s.$withBase("/articals/2020-04-24-intro-jenkins-install-12.png")}},[t("img",{attrs:{src:s.$withBase("/articals/2020-04-24-intro-jenkins-install-12.png")}})]),s._v(" "),t("p",[s._v("测试是否能连上。成功会提示 successful")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T git@gitee.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"忘记管理员密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#忘记管理员密码"}},[s._v("#")]),s._v(" 忘记管理员密码")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/articles/server/2020-06-03-intro-jenkins-forget-pwd.html"}},[s._v("《Jenkins忘记管理员密码解决方法》")])],1)])}),[],!1,null,null,null);a.default=e.exports}}]);